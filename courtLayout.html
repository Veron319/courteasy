{% extends 'layout.html' %}

{% block title %} Court List {% endblock %}

{% block content %}
  <style>
      .btn-add-court {
        margin-right: 10px;
        margin-bottom: 10px;
    }
  </style>

  <div class="row">
    <div class="col-xl-12 col-lg-12 col-md-12 col-sm-12 col-12">
      <div class="page-header">
        <h3 class="mb-2">Court Layout</h3>
        <div class="page-breadcrumb">
          <nav aria-label="breadcrumb">
            <ol class="breadcrumb">
              <li class="breadcrumb-item">Court</li>
              <li class="breadcrumb-item active" aria-current="page">Court Layout</li>
            </ol>
          </nav>
        </div>
      </div>
    </div>
  </div>
  
  {%with messages = get_flashed_messages()%}
    {%if messages%}
      {% for message in messages %}
        <div class="alert alert-success alert-dismissable" role="alert">
          <button type="button" class="close" data-dismiss="alert" aria-label="close">
            <span aria-hidden="true">&times;</span>
          </button>
            {{message}}
        </div>
      {%endfor%}
    {%endif%}
  {%endwith%}
  {% if filename %}
  <div>
      <img src="{{ url_for('display_image', filename=filename) }}">
  </div>

{% endif %}
  <form action="{{ url_for('uploadCourtLayout')}}" method="POST" enctype="multipart/form-data">
    <div class="form-group">
      <label for="court_image">Upload Court Image:</label>
      <input type="file" name="court_image" autocomplete="off" required>
    </div>
  
    <button type="submit" class="btn btn-primary mb-2">Save</button>
  </form>
  <br>
  <br>
  <br>
  <h4>User View</h4>
  <hr>
  <div class="card-body">
    <div class="form-row">
      <div class="col-xl-4 col-lg-4 col-md-12 col-sm-12 col-12 mb-2">
          <label for="court">Court Layout</label>
          <img src="{{ url_for('latest_image') }}" alt="Layout" class="img-fluid rounded">
      </div>
    </div>

    <div class="form-group">
      <label for="court">Court:</label>
      <select class="form-control" id="court" name="booking_court" disabled>
        <option>Court B</option>
      </select>
    </div>

    <div class="form-group">
        <p id="price-display"></p>
    </div>

    <button class="btn btn-primary" type="submit">Book Now</button>      
  </div>

{% endblock %}
